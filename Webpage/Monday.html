<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Team4 MPPT</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		 <script type="text/javascript" src="autoUpdate.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@3.1.0/dist/chart.min.js"></script>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<span class="logo"><img src="images/logo.svg" alt="" /></span>
						<h1>Monday</h1>
						<p>Infographics and Data</p>
					</header>

				<!-- Main -->
					<div id="main">
						<!-- Introduction -->
						<!-- First Section -->
							<section id="first" class="main special">
								<header class="major">
									<h2>Voltage Monitoring</h2>
								</header>
								<body>
									Voltage from 12:00am to 11:59pm
									</br>
									Average Voltage: 
									<canvas id="myChart" width="50" height="50"></canvas>
								<script>

								chartIt();

								async function chartIt(){
								const data = await getData();
								const ctx = document.getElementById('myChart').getContext('2d');
								const myChart = new Chart(ctx, {

									type: 'line',
									data: {
										labels: data.xs,
										datasets: [{
											label: 'Voltage',
											data: data.ys,
											fill: true,
											backgroundColor: [
												'rgba(255, 99, 132, 0.2)',              
											],
											borderColor: [
												'rgba(255, 99, 132, 1)',
											],
											borderWidth: 1
										}
										]
									},
									options: {
										scales: {
											y: {
												ticks: {
													// Include a dollar sign in the ticks
													callback: function(value, index, values) {
														return value + 'V';
													}
												}
											}
										}
									}
								});
								}



								async function getData(){
									const xs = [];
									const ys = [];
								//const response = await fetch('ZonAnn.TsdSST.csv');
								const response = await fetch('https://raw.githubusercontent.com/keebglo/T4MPPTWebpage/main/test.csv');
								//https://raw.githubusercontent.com/keebglo/T4MPPTWebpage/main/test.csv
								const data = await response.text();

								const table = data.split('\n').slice(1); 
								table.forEach(row => {
									const columns = row.split(','); //for each row, split it up by commas
									//now getting specific elements in each row
									const year = columns[3]; // 0 element is year, 1 element is temp 
									xs.push(year);//adds year to xlabels array
									const temp = columns[0];
									ys.push(parseFloat(temp));
									console.log(year,temp);
								});
								return {xs, ys};
									
								}

								</script>
								</body>
								<header class="major">
									<h2>Current Monitoring</h2>
								</header>
								<body>
									Current from 12:00am to 11:59pm
									</br>
									Average Current: 
									<canvas id="myChart2" width="50" height="50"></canvas>
								<script>

								chartIt();

								async function chartIt(){
								const data = await getData();
								const ctx = document.getElementById('myChart2').getContext('2d');
								const myChart2 = new Chart(ctx, {

									type: 'line',
									data: {
										labels: data.xs,
										datasets: [{
											label: 'Current',
											data: data.ys,
											fill: true,
											backgroundColor: [
												'rgba(255, 99, 132, 0.2)',              
											],
											borderColor: [
												'rgba(255, 99, 132, 1)',
											],
											borderWidth: 1
										}
										]
									},
									options: {
										scales: {
											y: {
												ticks: {
													// Include a dollar sign in the ticks
													callback: function(value, index, values) {
														return value + 'A';
													}
												}
											}
										}
									}
								});
								}



								async function getData(){
									const xs = [];
									const ys = [];
								const response = await fetch('https://raw.githubusercontent.com/keebglo/T4MPPTWebpage/main/test.csv');
								//https://raw.githubusercontent.com/keebglo/T4MPPTWebpage/main/test.csv
								const data = await response.text();

								const table = data.split('\n').slice(1); 
								table.forEach(row => {
									const columns = row.split(','); //for each row, split it up by commas
									//now getting specific elements in each row
									const year = columns[3]; // 0 element is year, 1 element is temp 
									xs.push(year);//adds year to xlabels array
									const temp = columns[1];
									ys.push(parseFloat(temp));
									console.log(year,temp);
								});
								return {xs, ys};
									
								}

								</script>
								<header class="major">
									<h2>Temperature Monitoring</h2>
								</header>
								<body>
									Temperature High:
									</br>
									Temperature Low:
									</br>
									Temperatures from 12:00am to 11:59pm
									</br>
									<canvas id="myChart3" width="50" height="50"></canvas>
									<script>
									chartIt();
									async function chartIt(){
									const data = await getData();
									const ctx = document.getElementById('myChart3').getContext('2d');
									const myChart3 = new Chart(ctx, {
										type: 'line',
										data: {
											labels: data.xs,
											datasets: [{
												label: 'Temperature',
												data: data.ys,
												fill: true,
												backgroundColor: [
													'rgba(255, 99, 132, 0.2)',              
												],
												borderColor: [
													'rgba(255, 99, 132, 1)',
												],
												borderWidth: 1
											}
											]
										},
										options: {
											scales: {
												y: {
													ticks: {
														// Include a dollar sign in the ticks
														callback: function(value, index, values) {
															return value + 'A';
														}
													}
												}
											}
										}
									});
									}
									async function getData(){
										const xs = [];
										const ys = [];
									const response = await fetch('https://raw.githubusercontent.com/keebglo/T4MPPTWebpage/main/test.csv');
									//https://raw.githubusercontent.com/keebglo/T4MPPTWebpage/main/test.csv
									const data = await response.text();

									const table = data.split('\n').slice(1); 
									table.forEach(row => {
										const columns = row.split(','); //for each row, split it up by commas
										//now getting specific elements in each row
										const year = columns[3]; // 0 element is year, 1 element is temp 
										xs.push(year);//adds year to xlabels array
										const temp = columns[1];
										ys.push(parseFloat(temp));
										console.log(year,temp);
									});
									return {xs, ys};
									}

									</script>
									<ul class="features">
										<li>
										</li>
									</ul>
									<footer class="major">
										<ul class="actions special">
											<li><a href="index.html" class="button">Return</a></li>
										</ul>
									</footer>								
								</section>

				<!-- Footer -->
					<footer id="footer">
						<p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.<br />
						Tempalte built by <a href="https://twitter.com/ajlkn">@ajlkn</a> for <a href="https://html5up.net">HTML5 UP</a>.</p>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>